# ==============================================================================
# LOCAL ENV EXAMPLE - For Docker Compose local development
# ==============================================================================
# Copy this section to .env for local development with docker-compose
# Do NOT use these values on Railway - see RAILWAY example env
# ==============================================================================

# Core Configuration
SECRET=replace-with-random-secret-32-chars-minimum # Encryption key for securing your data. Generate with: openssl rand -hex 32
PUBLIC_URL=http://localhost:8055 # Your local Directus URL for development
PORT=8055 # Port that Directus runs on locally

# Database Configuration (Docker Compose service names)
DB_CLIENT=pg # Database type (PostgreSQL)
DB_HOST=database # Database hostname (matches Docker Compose service name)
DB_PORT=5432 # Database port
DB_DATABASE=directus # Database name
DB_USER=directus # Database username
DB_PASSWORD=directus # Database password

# Cache Configuration (Redis - Docker Compose service name)
CACHE_STORE=redis # Cache storage type
CACHE_ENABLED=true # Enable caching to speed up your Directus instance
CACHE_AUTO_PURGE=true # Automatically clear cache when content changes
REDIS=redis://cache:6379 # Redis connection URL (matches Docker Compose service name)
SYNCHRONIZATION_STORE=redis # Required for running multiple Directus instances together

# Storage Configuration (Local filesystem for local dev)
STORAGE_LOCATIONS=local # Use local filesystem storage for development
STORAGE_LOCAL_ROOT=/directus/uploads # Local storage directory path

# Admin User Configuration (CHANGE THESE!)
ADMIN_EMAIL=admin@example.com # Your admin account email address. Change this!
ADMIN_PASSWORD=change-this-password # Your admin account password. CHANGE THIS!

# CMS Template Configuration
DIRECTUS_TEMPLATE=cms # Set to 'cms' to auto-apply CMS template (requires ADMIN_EMAIL/PASSWORD)

# WebSocket & Real-time Features
WEBSOCKETS_ENABLED=true # Enable real-time features like live updates and notifications

# Logging
LOG_STYLE=raw # Format logs for easy reading

# CORS Configuration
CORS_ENABLED=true # Enable Cross-Origin Resource Sharing
CORS_ORIGIN=* # Allow requests from any origin (for local development)

# Cookie Configuration (for local development)
REFRESH_TOKEN_COOKIE_SECURE=false # Allow cookies over HTTP (for local development)
SESSION_COOKIE_SECURE=false # Allow session cookies over HTTP (for local development)
REFRESH_TOKEN_COOKIE_SAME_SITE=lax # Cookie same-site policy
SESSION_COOKIE_SAME_SITE=lax # Session cookie same-site policy
REFRESH_TOKEN_COOKIE_DOMAIN= # Cookie domain (empty for localhost)
SESSION_COOKIE_DOMAIN= # Session cookie domain (empty for localhost)

# Extensions Configuration
EXTENSIONS_PATH=/directus/extensions # Path where Directus extensions are stored
EXTENSIONS_AUTO_RELOAD=true # Automatically reload extensions when changed (for development)

# Content Security Policy (for local frontend development)
CONTENT_SECURITY_POLICY_DIRECTIVES__FRAME_SRC=http://localhost:3000,http://localhost:4321,http://localhost:5173,https://*.youtube.com,https://*.vimeo.com,https://*.wistia.net,https://*.loom.com # Allow iframes from local frontend dev servers and video platforms
